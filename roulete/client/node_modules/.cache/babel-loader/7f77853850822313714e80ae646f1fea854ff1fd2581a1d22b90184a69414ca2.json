{"ast":null,"code":"import{Route,Routes}from\"react-router-dom\";import\"./App.css\";import Page404 from\"./routes/Page404/Page404.tsx\";import{MainPage}from\"./routes/MainPage/MainPage.tsx\";import Footer from\"./routes/Footer/Footer.tsx\";import Header from\"./routes/Header/Header.tsx\";import LoginPage from\"./routes/LoginPage/LoginPage.tsx\";import RegistrationPage from\"./routes/RegistartionPage/RegistrationPage.tsx\";import{useEffect,useState,useCallback}from\"react\";import UserRecordings from\"./routes/UserRecordings/UserRecordings.tsx\";import Cookies from\"js-cookie\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[userLoginState,setUserLoginState]=useState({isLoggedIn:false,username:undefined});useEffect(()=>{if(Cookies.get(\"loginState\"))setUserLoginState({isLoggedIn:true,username:JSON.parse(Cookies.get(\"loginState\"))});},[]);const[isActive,setModalActive]=useState(false);const setActiveHandler=()=>{setModalActive(!isActive);};const handleLogin=useCallback(()=>{let username;if(Cookies.get(\"loginState\")!=undefined)username=JSON.parse(Cookies.get(\"loginState\"));else username=\"\";setUserLoginState({isLoggedIn:true,username:username});},[userLoginState]);const handleLogout=useCallback(()=>{Cookies.remove(\"userIdState\");Cookies.remove(\"loginState\");setUserLoginState({isLoggedIn:false,username:\"\"});},[userLoginState]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{isLoggedIn:userLoginState.isLoggedIn,username:userLoginState.username}),/*#__PURE__*/_jsxs(\"main\",{className:\"px-5 sm:px-7 sm:py-8 py-20 bg-main bg-no-repeat bg-cover flex flex-grow\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Page404,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/users\",element:/*#__PURE__*/_jsx(UserRecordings,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{isActive:isActive,setActive:setActiveHandler,isLoggedIn:userLoginState.isLoggedIn,username:userLoginState.username,handleLogin:handleLogin,handleLogout:handleLogout})})]}),isActive?/*#__PURE__*/_jsx(RegistrationPage,{isActive:isActive,setActive:setActiveHandler}):\"\"]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["Route","Routes","Page404","MainPage","Footer","Header","LoginPage","RegistrationPage","useEffect","useState","useCallback","UserRecordings","Cookies","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","userLoginState","setUserLoginState","isLoggedIn","username","undefined","get","JSON","parse","isActive","setModalActive","setActiveHandler","handleLogin","handleLogout","remove","children","className","path","element","setActive"],"sources":["/home/goik4/Универ/corsework/Voice-Roulete-Coursework/Voice-Roulete-Coursework/roulete/client/src/App.tsx"],"sourcesContent":["import { Route, Routes } from \"react-router-dom\";\nimport \"./App.css\";\nimport Page404 from \"./routes/Page404/Page404.tsx\";\nimport { MainPage } from \"./routes/MainPage/MainPage.tsx\";\nimport Footer from \"./routes/Footer/Footer.tsx\";\nimport Header from \"./routes/Header/Header.tsx\";\nimport LoginPage from \"./routes/LoginPage/LoginPage.tsx\";\nimport RegistrationPage from \"./routes/RegistartionPage/RegistrationPage.tsx\";\nimport { useEffect, useState, useCallback } from \"react\";\nimport UserRecordings from \"./routes/UserRecordings/UserRecordings.tsx\";\nimport Cookies from \"js-cookie\";\n\nfunction App() {\n  interface IUserLoginState {\n    isLoggedIn: boolean;\n    username: string | undefined;\n  }\n\n  const [userLoginState, setUserLoginState] = useState<IUserLoginState>({\n    isLoggedIn: false,\n    username: undefined,\n  });\n\n  \n  useEffect(() => {\n    if (Cookies.get(\"loginState\"))\n      setUserLoginState({\n        isLoggedIn: true,\n        username: JSON.parse(Cookies.get(\"loginState\") as string),\n      });\n  }, []);\n\n  const [isActive, setModalActive] = useState(false);\n\n  const setActiveHandler = (): void => {\n    setModalActive(!isActive);\n  };\n\n  const handleLogin = useCallback(() => {\n    let username;\n    if (Cookies.get(\"loginState\") != undefined)\n      username = JSON.parse(Cookies.get(\"loginState\") as string);\n    else username = \"\";\n    setUserLoginState({\n      isLoggedIn: true,\n      username: username,\n    });\n  }, [userLoginState]);\n\n  const handleLogout = useCallback(() => {\n    Cookies.remove(\"userIdState\");\n    Cookies.remove(\"loginState\");\n    setUserLoginState({\n      isLoggedIn: false,\n      username: \"\",\n    });\n  }, [userLoginState]);\n\n  return (\n    <>\n      <Header\n        isLoggedIn={userLoginState.isLoggedIn}\n        username={userLoginState.username}\n      />\n      <main className=\"px-5 sm:px-7 sm:py-8 py-20 bg-main bg-no-repeat bg-cover flex flex-grow\">\n        <Routes>\n          <Route path=\"*\" element={<Page404 />} />\n          <Route path=\"/\" element={<MainPage />} />\n          <Route path=\"/users\" element={<UserRecordings />} />\n          <Route\n            path=\"/login\"\n            element={\n              <LoginPage\n                isActive={isActive}\n                setActive={setActiveHandler}\n                isLoggedIn={userLoginState.isLoggedIn}\n                username={userLoginState.username}\n                handleLogin={handleLogin}\n                handleLogout={handleLogout}\n              />\n            }\n          />\n        </Routes>\n        {isActive ? (\n          <RegistrationPage isActive={isActive} setActive={setActiveHandler} />\n        ) : (\n          \"\"\n        )}\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}