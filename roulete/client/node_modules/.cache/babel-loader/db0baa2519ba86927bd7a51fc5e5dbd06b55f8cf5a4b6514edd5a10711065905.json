{"ast":null,"code":"import{Route,Routes}from\"react-router-dom\";import\"./App.css\";import Page404 from\"./routes/Page404/Page404.tsx\";import MainPage from\"./routes/MainPage/MainPage.tsx\";import Footer from\"./routes/Footer/Footer.tsx\";import Header from\"./routes/Header/Header.tsx\";import LoginPage from\"./routes/LoginPage/LoginPage.tsx\";import RegistrationPage from\"./routes/RegistartionPage/RegistrationPage.tsx\";import{useState}from\"react\";import UsersOnline from\"./routes/UsersOnline/UsersOnline.tsx\";import Cookies from\"js-cookie\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[userLoginState,setUserLoginState]=useState({isLoggedIn:false,username:Cookies.get('loginState')?JSON.parse(Cookies.get('loginState')):undefined});const[isActive,setModalActive]=useState(false);const setActiveHandler=()=>{setModalActive(!isActive);};const handleLogin=()=>{let username;if(Cookies.get('loginState')!=undefined)username=JSON.parse(Cookies.get(\"loginState\"));else username='';setUserLoginState({isLoggedIn:true,username:username});};const handleLogout=()=>{Cookies.remove(\"userIdState\");Cookies.remove(\"loginState\");setUserLoginState({isLoggedIn:false,username:\"\"});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{isLoggedIn:userLoginState.isLoggedIn,username:userLoginState.username,handleLogout:handleLogout}),/*#__PURE__*/_jsxs(\"main\",{className:\"px-5 sm:px-7 sm:py-8 py-20 bg-main bg-no-repeat bg-cover flex flex-grow\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Page404,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/users\",element:/*#__PURE__*/_jsx(UsersOnline,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{isActive:isActive,setActive:setActiveHandler,isLoggedIn:userLoginState.isLoggedIn,username:userLoginState.username,handleLogin:handleLogin,handleLogout:handleLogout})})]}),isActive?/*#__PURE__*/_jsx(RegistrationPage,{isActive:isActive,setActive:setActiveHandler}):\"\"]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["Route","Routes","Page404","MainPage","Footer","Header","LoginPage","RegistrationPage","useState","UsersOnline","Cookies","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","userLoginState","setUserLoginState","isLoggedIn","username","get","JSON","parse","undefined","isActive","setModalActive","setActiveHandler","handleLogin","handleLogout","remove","children","className","path","element","setActive"],"sources":["/home/goik4/Универ/corsework/Voice-Roulete-Coursework/Voice-Roulete-Coursework/roulete/client/src/App.tsx"],"sourcesContent":["import { Route, Routes } from \"react-router-dom\";\nimport \"./App.css\";\nimport Page404 from \"./routes/Page404/Page404.tsx\";\nimport MainPage from \"./routes/MainPage/MainPage.tsx\";\nimport Footer from \"./routes/Footer/Footer.tsx\";\nimport Header from \"./routes/Header/Header.tsx\";\nimport LoginPage from \"./routes/LoginPage/LoginPage.tsx\";\nimport RegistrationPage from \"./routes/RegistartionPage/RegistrationPage.tsx\";\nimport { useState } from \"react\";\nimport UsersOnline from \"./routes/UsersOnline/UsersOnline.tsx\";\nimport Cookies from \"js-cookie\";\n\nfunction App() {\n  const [userLoginState, setUserLoginState] = useState({\n    isLoggedIn: false,\n    username: Cookies.get('loginState') ? JSON.parse(Cookies.get('loginState') as string) : undefined,\n  });\n\n  const [isActive, setModalActive] = useState(false);\n\n  const setActiveHandler = (): void => {\n    setModalActive(!isActive);\n  };\n\n  const handleLogin = () => {\n    let username;\n    if(Cookies.get('loginState') != undefined)\n      username = JSON.parse(Cookies.get(\"loginState\") as string);\n    else\n      username = ''\n    setUserLoginState({\n      isLoggedIn: true,\n      username: username,\n    });\n  };\n\n  const handleLogout = () => {\n    Cookies.remove(\"userIdState\");\n    Cookies.remove(\"loginState\");\n    setUserLoginState({\n      isLoggedIn: false,\n      username: \"\",\n    });\n  };\n\n  return (\n    <>\n      <Header\n        isLoggedIn={userLoginState.isLoggedIn}\n        username={userLoginState.username}\n        handleLogout={handleLogout}\n      />\n      <main className=\"px-5 sm:px-7 sm:py-8 py-20 bg-main bg-no-repeat bg-cover flex flex-grow\">\n        <Routes>\n          <Route path=\"*\" element={<Page404 />} />\n          <Route path=\"/\" element={<MainPage />} />\n          <Route path=\"/users\" element={<UsersOnline />} />\n          <Route\n            path=\"/login\"\n            element={\n              <LoginPage\n                isActive={isActive}\n                setActive={setActiveHandler}\n                isLoggedIn={userLoginState.isLoggedIn}\n                username={userLoginState.username}\n                handleLogin={handleLogin}\n                handleLogout={handleLogout}\n              />\n            }\n          />\n        </Routes>\n        {isActive ? (\n          <RegistrationPage isActive={isActive} setActive={setActiveHandler} />\n        ) : (\n          \"\"\n        )}\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}